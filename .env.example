# ============================================================
# ZedID — Environment Configuration Template
# Copy this file to .env and fill in your values.
# ============================================================

# ---- Service Identity ----
# The SPIFFE trust domain for your cluster.
# All workload SPIFFE IDs will be scoped to this domain.
ZEDID_TRUST_DOMAIN="tetrate.io"

# A unique identifier for this ZedID deployment.
ZEDID_CLUSTER_ID="hackathon-cluster-alpha"

# ---- TARS (Tetrate Agent Router Service) ----
# Your TARS API key from the Tetrate portal.
# Without this key, ZedID runs in simulation mode (still fully functional for demo).
# TARS_API_KEY="your-tars-api-key-here"

# The TARS endpoint. Use the default for the Tetrate-hosted service.
TARS_ENDPOINT="https://api.router.tetrate.ai/v1"

# ---- Security & Authentication ----
# Secret key used to sign ZedID JWT identity tokens.
# CHANGE THIS in production — use a cryptographically random 256-bit value.
ZEDID_JWT_SECRET="z3did-suPer-s3cr3t-k3y-d0-n0t-us3-th1s-1n-pr0d"

# Issuer claim embedded in all JWT tokens issued by ZedID.
ZEDID_JWT_ISSUER="zedid.tetrate.io"

# ---- Database ----
# SQLite in-memory for prototype (data is lost on restart — perfect for demos).
DATABASE_URL="sqlite::memory:"
# Uncomment for persistent SQLite:
# DATABASE_URL="sqlite:./zedid.db"
# Uncomment for PostgreSQL (production):
# DATABASE_URL="postgres://user:pass@localhost:5432/zedid"

# ---- Server ----
# Port the ZedID API server listens on.
PORT=8080

# ---- Logging ----
# Structured log levels. Use "debug" for development, "info" for production.
RUST_LOG="zedid=debug,tower_http=info,axum=info"
